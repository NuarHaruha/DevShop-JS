/**
 * Copyright (c) 2011 Roger Myrg http://devshop.me/
 * Released under the MIT license:
 * https://github.com/rgr-myrg/DevShop-JS/raw/master/MIT-LICENSE
 */
(function(b){b.DevShop=typeof b.DevShop==="object"?b.DevShop:{}})(window);(function(b){b.SingletonFactory=function(b){var a=function(a){if(typeof a==="function")try{return new a}catch(b){}else if(typeof a==="object")return a},f=a(b.implement),d=a(b.extend),a=a(b.instance),c;for(c in d)d.hasOwnProperty(c)&&(a[c]||(a[c]=d[c]));for(c in f)if(f.hasOwnProperty(c)&&!a[c])throw b.instance+" must implement '"+c+"' "+typeof f[c];if(typeof a.initialize==="function")try{a.initialize()}catch(g){}return a}})(DevShop);(function(b){b.Observable=function(e){return b.SingletonFactory({extend:function(){this.observers=[];this.addObserver=function(a){if((typeof a==="function"||typeof a==="object")&&typeof a.notify==="function")if(this.observers.push(a),typeof a.onRegister==="function")try{a.onRegister()}catch(b){}};this.notifyObservers=function(a){for(var b=this.observers.length,d=0;d<b;d++)try{this.observers[d].notify(a,this)}catch(c){}}},instance:e})}})(DevShop);(function(b){b.Observer=function(e){return b.SingletonFactory({extend:function(){this.onRegister=function(){};this.notify=function(a,b){this.observable=b;if(typeof this[a]==="function")try{this[a]()}catch(d){}}},instance:e})}})(DevShop);
